<h4>Allocations</h4>
<hr>

<p>Investment: {{allocation.investment}}</p>

<p>Fix costs:</p>
<div *ngFor="let fixCost of allocation.fixCosts; index as i">
    <ng-container [ngTemplateOutlet]="fixCost.updating ? updating : notUpdating" [ngTemplateOutletContext]="{fixCost:fixCost, i:i}"></ng-container>
</div>

<ng-template #notUpdating let-fixCost="fixCost" let-i="i">
    {{fixCost.fixCostName}}: {{fixCost.value}} <button type="button" (click)="updateAllocation(i)">Change</button>
</ng-template>

<ng-template #updating let-fixCost="fixCost" let-i="i">
    <input type="number" value={{fixCost.value}} [(ngModel)]="newValue"/> <button type="button" (click)="submitUpdateAllocation(i)">Update</button>
</ng-template>

<br>

<p>Categories:</p>
<div *ngFor="let category of allocation.categories">
    <p>{{category.categoryName}}: {{category.budget}}</p>
</div>
<br>
<hr>
<button type="submit" (click)="updateAllocation(4)">Update allocations</button>
